{"ast":null,"code":"var test;\nimport Vue from 'vue';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nVue.use(VueAxios, axios);\nexport default {\n  data() {\n    return {\n      run: 'http://127.0.0.1:40193/searchhotel',\n      input: {\n        hid: '',\n        cusid: '',\n        branch: '',\n        street: '',\n        pin_code: ''\n      },\n      formDialog: false,\n      nameRules: [v => !!v || 'Name is required', v => v && v.length <= 10 || 'Name must be less than 10 characters'],\n      numberRules: [v => !!v || 'Number is required', v => v && v.length <= 10 || 'Number must be less than 10 characters'],\n      list: [],\n      names: [],\n      flag: true\n    };\n  },\n\n  mounted() {\n    Vue.axios.get('http://127.0.0.1:40193/read1').then(resp => {\n      console.log(resp);\n      this.list = resp.data;\n    }); //   Vue.axios.get('http://127.0.0.1:40193/customername')\n    //   .then((resp)=>\n    //   {\n    //     this.names=resp.data\n    //   })\n    //   Vue.axios.get('http://127.0.0.1:40193/read1')\n    //     .then((resp)=>\n    //     {\n    //         this.list = resp.data;\n    //         console.log(this.list)\n    //         const address = this.list.map(item => ({\n    //             address : item.branch +','+ item.street +','+ item.pin_code\n    //             //address : JSON.stringify(item.branch +','+ item.street +','+ item.pin_code)\n    //         }))\n    //       console.log(address)\n    //     })\n  },\n\n  methods: {\n    async addItem() {\n      await Vue.axios.post(`http://127.0.0.1:40193/insert1`, {\n        id: this.input.hid,\n        cusid: this.input.cusid,\n        branch: this.input.branch,\n        street: this.input.street,\n        pincode: this.input.pin_code\n      });\n      this.formDialog = false;\n      Vue.axios.get('http://127.0.0.1:40193/read1').then(resp => {\n        this.list = resp.data;\n      });\n      this.$refs.form.reset();\n    },\n\n    async edit(item) {\n      this.flag = false;\n      this.formDialog = true;\n      test = item;\n      this.input.hid = item.hid;\n      this.input.cusid = item.cusid;\n      this.input.branch = item.branch;\n      this.input.street = item.street;\n      this.input.pin_code = item.pin_code;\n    },\n\n    async editItem() {\n      this.flag = false;\n      test.hid = this.input.hid;\n      test.cusid = this.input.cusid;\n      test.branch = this.input.branch;\n      test.street = this.input.street;\n      test.pin_code = this.input.pin_code;\n      this.$refs.form.reset();\n      this.formDialog = false;\n      await axios.post(`http://127.0.0.1:40193/update1/${test.id}`, {\n        id: test.hid,\n        cusid: test.cusid,\n        branch: test.branch,\n        street: test.street,\n        pincode: test.pin_code\n      }).then(response => {\n        console.log(response);\n      });\n    },\n\n    hidasc() {\n      Vue.axios.get('http://127.0.0.1:40193/hidasc').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    hiddesc() {\n      Vue.axios.get('http://127.0.0.1:40193/hiddesc').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    cusidasc() {\n      Vue.axios.get('http://127.0.0.1:40193/cusidasc').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    cusiddesc() {\n      Vue.axios.get('http://127.0.0.1:40193/cusiddesc').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    branchasc() {\n      Vue.axios.get('http://127.0.0.1:40193/branchasc').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    branchdesc() {\n      Vue.axios.get('http://127.0.0.1:40193/branchdesc').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    streetasc() {\n      Vue.axios.get('http://127.0.0.1:40193/streetasc').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    streetdesc() {\n      Vue.axios.get('http://127.0.0.1:40193/streetdesc').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    pincodeasc() {\n      Vue.axios.get('http://127.0.0.1:40193/pincodeasc').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    pincodedesc() {\n      Vue.axios.get('http://127.0.0.1:40193/pincodedesc').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    async remove(id) {\n      await Vue.axios.delete(`http://127.0.0.1:40193/delete1/${id}`);\n      Vue.axios.get('http://127.0.0.1:40193/read1').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    searchBar(value) {\n      this.list = value.data;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiGA;AACA;AACA;AACA;AACAA;AACA;EAEAC;IACA;MACAC,yCADA;MAEAC;QACAC,OADA;QAEAC,SAFA;QAGAC,UAHA;QAIAC,UAJA;QAKAC;MALA,CAFA;MASAC,iBATA;MAUAC,YACAC,8BADA,EAEAA,kEAFA,CAVA;MAcAC,cACAD,gCADA,EAEAA,oEAFA,CAdA;MAmBAE,QAnBA;MAoBAC,SApBA;MAqBAC;IArBA;EAwBA,CA3BA;;EA4BAC;IACAhB,8CACAiB,IADA,CACAC;MACAC;MACA;IACA,CAJA,EADA,CAMA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAEA,CAnDA;;EAoDAC;IACA;MACA;QACAC,kBADA;QAEAhB,uBAFA;QAGAC,yBAHA;QAIAC,yBAJA;QAKAe;MALA;MAQA;MACAtB,8CACAiB,IADA,CACAC;QACA;MACA,CAHA;MAIA;IAEA,CAjBA;;IAkBA,iBACA;MACA;MACA;MACAK;MACA;MACA;MACA;MACA;MACA;IACA,CA5BA;;IA6BA;MACA;MACAA;MACAA;MACAA;MACAA;MACAA;MACA;MACA;MACA;QACAF,YADA;QAEAhB,iBAFA;QAGAC,mBAHA;QAIAC,mBAJA;QAKAe;MALA,GAQAL,IARA,CAQAO;QACAL;MACA,CAVA;IAcA,CApDA;;IAqDAM,SACA;MACAzB,+CACAiB,IADA,CACAC;QACA;MACA,CAHA;IAIA,CA3DA;;IA4DAQ,UACA;MACA1B,gDACAiB,IADA,CACAC;QACA;MACA,CAHA;IAIA,CAlEA;;IAmEAS,WACA;MACA3B,iDACAiB,IADA,CACAC;QACA;MACA,CAHA;IAIA,CAzEA;;IA0EAU,YACA;MACA5B,kDACAiB,IADA,CACAC;QACA;MACA,CAHA;IAIA,CAhFA;;IAiFAW,YACA;MACA7B,kDACAiB,IADA,CACAC;QACA;MACA,CAHA;IAIA,CAvFA;;IAwFAY,aACA;MACA9B,mDACAiB,IADA,CACAC;QACA;MACA,CAHA;IAIA,CA9FA;;IA+FAa,YACA;MACA/B,kDACAiB,IADA,CACAC;QACA;MACA,CAHA;IAIA,CArGA;;IAsGAc,aACA;MACAhC,mDACAiB,IADA,CACAC;QACA;MACA,CAHA;IAIA,CA5GA;;IA6GAe,aACA;MACAjC,mDACAiB,IADA,CACAC;QACA;MACA,CAHA;IAIA,CAnHA;;IAoHAgB,cACA;MACAlC,oDACAiB,IADA,CACAC;QACA;MACA,CAHA;IAIA,CA1HA;;IA2HA;MACA;MACAlB,8CACAiB,IADA,CACAC;QACA;MACA,CAHA;IAIA,CAjIA;;IAkIAiB,iBACA;MACA;IACA;;EArIA;AApDA","names":["Vue","data","run","input","hid","cusid","branch","street","pin_code","formDialog","nameRules","v","numberRules","list","names","flag","mounted","then","resp","console","methods","id","pincode","test","response","hidasc","hiddesc","cusidasc","cusiddesc","branchasc","branchdesc","streetasc","streetdesc","pincodeasc","pincodedesc","searchBar"],"sourceRoot":"src/components","sources":["HotelTable.vue"],"sourcesContent":["<template>\n    <v-app>\n        <div>\n          <div>\n            <globalSearch :link=\"run\" @linking=\"searchBar\"/>\n          </div>\n                <v-form refs=\"form\">\n                    <v-dialog width=\"600\" v-model=\"formDialog\">\n\n                        <template v-slot:activator=\"{ on,attr }\">\n                            <v-flex text-right align-right>\n                                <v-btn  elevation='5' color=\"primary\" v-bind=\"attr\" v-on=\"on\">\n                                    <v-icon>mdi-plus</v-icon>\n                                </v-btn>\n                            </v-flex>\n\n                        </template>\n                        <v-card text class=\"white\">\n                            <v-text-field v-model=\"input.hid\" label=\"hotel id\"></v-text-field>\n                            <v-text-field v-model=\"input.cusid\" label=\"customer id\"></v-text-field>\n                            <v-text-field v-model=\"input.branch\" :rules=\"nameRules\" label=\"Branch\"></v-text-field>\n                            <v-text-field v-model=\"input.street\" :rules=\"nameRules\" label=\"Street\"></v-text-field>\n                            <v-text-field v-model=\"input.pin_code\" :rules=\"numberRules\" label=\"Pin_code\"></v-text-field>\n                            <v-btn v-if=\"flag\" @click=\"addItem\" class=\"red\">\n                                submit</v-btn>\n                            <v-btn v-else @click=\"editItem\" class=\"green\">\n                                save</v-btn>\n                        </v-card>\n                    </v-dialog>\n                </v-form>\n            </div>\n            <v-simple-table>\n                <thead>\n                    <tr>\n                        <th>id</th>\n                        <th>hid<button @click=\"hidasc\">\n                                <v-icon small>mdi-arrow-down</v-icon>\n                            </button>\n                            <button @click=\"hiddesc\">\n                                <v-icon small>mdi-arrow-up</v-icon>\n                            </button></th>\n                        <th>customerid<button @click=\"cusidasc\">\n                                <v-icon small>mdi-arrow-down</v-icon>\n                            </button>\n                            <button @click=\"cusiddesc\">\n                                <v-icon small>mdi-arrow-up</v-icon>\n                            </button></th>\n                        <th>branch<button @click=\"branchasc\">\n                                <v-icon small>mdi-arrow-down</v-icon>\n                            </button>\n                            <button @click=\"branchdesc\">\n                                <v-icon small>mdi-arrow-up</v-icon>\n                            </button></th>\n                        <th>Street<button @click=\"streetasc\">\n                                <v-icon small>mdi-arrow-down</v-icon>\n                            </button>\n                            <button @click=\"streetdesc\">\n                                <v-icon small>mdi-arrow-up</v-icon>\n                            </button></th>\n                        <th>pin_code<button @click=\"pincodeasc\">\n                                <v-icon small>mdi-arrow-down</v-icon>\n                            </button>\n                            <button @click=\"pincodedesc\">\n                                <v-icon small>mdi-arrow-up</v-icon>\n                            </button></th>\n                            <th>address</th>\n                            <th>edit/delete</th>\n                            <th>customer name</th>\n                    </tr>\n                </thead>\n                <tr v-for=\"(item,i) in list\" :key=\"i\">\n                    <td>{{item.id}}</td>\n                    <td>{{item.hid}}</td>\n                    <td>{{item.cusid}}</td>\n                    <td>{{item.branch}}</td>\n                    <td>{{item.street}}</td>\n                    <td>{{item.pincode}}</td>\n                    <td>{{item.address}}</td>\n                    \n                   <td>\n                        <v-btn @click=\"edit(item)\" color=\"transparent\" fab small elevation=\"0\">\n                            <v-icon small color=\"green\">mdi-pencil</v-icon>\n                        </v-btn>\n                        <v-btn @click=\"remove(item.id)\" color=\"transparent\" fab small elevation=\"0\">\n                            <v-icon small color=\"red\">mdi-delete</v-icon>\n                        </v-btn>\n                    </td>\n                    <td>{{item.name}}</td>\n               \n                \n                </tr>\n             \n            \n            </v-simple-table>\n    </v-app>\n</template>\n<script>\n    var test;\n    import Vue from 'vue';\n     import axios from 'axios';\n     import VueAxios from 'vue-axios'\nVue.use(VueAxios, axios)\n    export default{\n\n    data() {\n        return {\n            run:'http://127.0.0.1:40193/searchhotel',\n            input: {\n                hid: '',\n                cusid:'',\n                branch:'',\n                street: '',\n                pin_code:''\n            },\n            formDialog: false,\n            nameRules: [\n        v => !!v || 'Name is required',\n        v => (v && v.length <= 10) || 'Name must be less than 10 characters',\n      ],\n      numberRules:[\n      v => !!v || 'Number is required',\n      v => (v && v.length <= 10) || 'Number must be less than 10 characters'\n      ],\n      \n            list:[],\n            names:[],\n            flag:true,\n            \n        }\n    },\n    mounted() {\n        Vue.axios.get('http://127.0.0.1:40193/read1')\n      .then((resp) => {\n        console.log(resp);\n        this.list = resp.data;\n      })\n    //   Vue.axios.get('http://127.0.0.1:40193/customername')\n    //   .then((resp)=>\n    //   {\n    //     this.names=resp.data\n    //   })\n    //   Vue.axios.get('http://127.0.0.1:40193/read1')\n    //     .then((resp)=>\n    //     {\n    //         this.list = resp.data;\n    //         console.log(this.list)\n    //         const address = this.list.map(item => ({\n    //             address : item.branch +','+ item.street +','+ item.pin_code\n    //             //address : JSON.stringify(item.branch +','+ item.street +','+ item.pin_code)\n    //         }))\n    //       console.log(address)\n    //     })\n  \n    },\n    methods:{\n        async addItem() {\n      await Vue.axios.post(`http://127.0.0.1:40193/insert1`, {\n        id: this.input.hid,\n        cusid:this.input.cusid,\n        branch:this.input.branch,\n        street:this.input.street,\n        pincode: this.input.pin_code,\n        \n      })\n      this.formDialog=false\n      Vue.axios.get('http://127.0.0.1:40193/read1')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n      this.$refs.form.reset()\n\n    },\n    async edit(item)\n    {\n        this.flag=false\n      this.formDialog = true\n      test = item\n      this.input.hid=item.hid\n      this.input.cusid=item.cusid\n      this.input.branch=item.branch\n      this.input.street=item.street\n      this.input.pin_code=item.pin_code\n    },\n    async editItem() {\n      this.flag=false\n      test.hid=this.input.hid\n      test.cusid = this.input.cusid\n      test.branch = this.input.branch\n      test.street= this.input.street\n      test.pin_code=this.input.pin_code\n      this.$refs.form.reset()\n      this.formDialog=false\n      await axios.post(`http://127.0.0.1:40193/update1/${test.id}`, {\n        id: test.hid,\n        cusid:test.cusid,\n        branch:test.branch,\n        street:test.street,\n        pincode:test.pin_code\n        \n      })\n.then(response => {\n          console.log(response);\n        });\n\n      \n      \n    },\n    hidasc()\n    {\n        Vue.axios.get('http://127.0.0.1:40193/hidasc')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n    },\n    hiddesc()\n    {\n        Vue.axios.get('http://127.0.0.1:40193/hiddesc')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n    },\n    cusidasc()\n    {\n        Vue.axios.get('http://127.0.0.1:40193/cusidasc')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n    },\n    cusiddesc()\n    {\n        Vue.axios.get('http://127.0.0.1:40193/cusiddesc')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n    },\n    branchasc()\n    {\n        Vue.axios.get('http://127.0.0.1:40193/branchasc')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n    },\n    branchdesc()\n    {\n        Vue.axios.get('http://127.0.0.1:40193/branchdesc')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n    },\n    streetasc()\n    {\n        Vue.axios.get('http://127.0.0.1:40193/streetasc')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n    },\n    streetdesc()\n    {\n        Vue.axios.get('http://127.0.0.1:40193/streetdesc')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n    },\n    pincodeasc()\n    {\n        Vue.axios.get('http://127.0.0.1:40193/pincodeasc')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n    },\n    pincodedesc()\n    {\n        Vue.axios.get('http://127.0.0.1:40193/pincodedesc')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n    },\n    async remove(id){\n      await Vue.axios.delete(`http://127.0.0.1:40193/delete1/${id}`)\n      Vue.axios.get('http://127.0.0.1:40193/read1')\n        .then((resp) => {\n          this.list = resp.data;\n        })\n    },\n    searchBar(value)\n    {\nthis.list=value.data\n    }\n    \n \n    \n\n    }\n    }\n</script>"]},"metadata":{},"sourceType":"module"}