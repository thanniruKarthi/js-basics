{"ast":null,"code":"import Vue from 'vue';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nVue.use(VueAxios, axios);\nexport default {\n  name: 'api-integration',\n\n  data() {\n    return {\n      empid: '',\n      name: '',\n      dept: '',\n      list: [],\n      dialog: false,\n      arr: [],\n      rand: false,\n      temp: {}\n    };\n  },\n\n  mounted() {\n    Vue.axios.get('http://127.0.0.1:40193/readdept').then(resp => {\n      this.list = resp.data;\n    });\n  },\n\n  methods: {\n    async sendData() {\n      await Vue.axios.post(`http://127.0.0.1:40193/createdept`, {\n        empid: this.empid,\n        name: this.name,\n        dept: this.dept\n      });\n      this.dialog = false;\n      this.rand = false;\n      this.$refs.form.reset();\n      Vue.axios.get('http://127.0.0.1:40193/readdept').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    async deleting(id) {\n      await Vue.axios.delete(`http://127.0.0.1:40193/deletedept/${id}`);\n      Vue.axios.get('http://127.0.0.1:40193/readdept').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    // editing(id,empid,name,dept)\n    // {\n    //   this.dialog=true\n    //   this.item.empid=empid\n    //   this.item.name=name\n    //   this.item.dept=dept\n    //   let values={\n    //     empid:this.item.empid,name:this.item.name,dept:this.item.dept\n    //   }\n    //   Vue.axios.put(`http://127.0.0.1:40193/updatedept/${id}`,values)\n    //   {\n    //     Vue.axios.get('http://127.0.0.1:40193/readdept')\n    // .then((response)=>\n    // {\n    //    this.list=response.data;\n    // });\n    // this.item.empid=''.\n    // this.item.name='',\n    // this.item.dept=''\n    // this.$refs.form.reset()\n    //   }\n    // }\n    edit(item) {\n      this.dialog = true;\n      this.rand = true;\n      this.temp = item;\n      let id = item.id;\n      let obj = this.arr.find(o => o.id == id);\n      this.empid = item.empid;\n      this.name = item.name;\n      this.dept = item.dept;\n      this.dialog = true;\n      console.log(obj);\n      this.tempObj = item;\n    },\n\n    editing() {\n      this.rand = false;\n      let data = this.arr.findIndex(tempor => tempor.id == this.temp.id);\n      this.arr[data].empid = this.empid;\n      this.arr[data].name = this.name;\n      this.arr[data].dept = this.dept;\n      this.$refs.form.reset();\n      this.dialog = false;\n      this.$refs.form.reset();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqKA;AACA;AACA;AACAA;AACA;EACAC,uBADA;;EAEAC,OACA;IACA;MACAC,SADA;MAEAF,QAFA;MAGAG,QAHA;MAIAC,QAJA;MAKAC,aALA;MAMAC,OANA;MAOAC,WAPA;MAQAC;IARA;EAUA,CAdA;;EAeAC,UACA;IAEAV,iDAEAW,IAFA,CAEAC,QACA;MACA;IACA,CALA;EAMA,CAxBA;;EAyBAC;IACA,iBACA;MACA;QACAV,iBADA;QAEAF,eAFA;QAGAG;MAHA;MAKA;MACA;MACA;MACAJ,iDAEAW,IAFA,CAEAC,QACA;QACA;MACA,CALA;IAOA,CAlBA;;IAmBA,mBACA;MACA;MAEAZ,iDAEAW,IAFA,CAEAC,QACA;QACA;MACA,CALA;IAOA,CA9BA;;IA+BA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAE,WACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACAC;MACA;IAGA,CAvEA;;IAwEAC,UACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;IACA;;EAnFA;AAzBA","names":["Vue","name","data","empid","dept","list","dialog","arr","rand","temp","mounted","then","resp","methods","edit","console","editing"],"sourceRoot":"src/components","sources":["api-integration.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-form methos=\"post\"\n      ref=\"form\"\n      \n      lazy-validation\n    >\n    <v-dialog\n    v-model=\"dialog\"\n    >\n    <template v-slot:activator=\"{on}\">\n      <v-flex text-right align-right>\n      <v-btn class=\"blue\"\n        v-on=\"on\"> <v-icon dark>\n        mdi-plus\n      </v-icon>\n      </v-btn>\n    </v-flex>\n    </template>\n    <v-card-text class=\" white lighten-2\">\n\n      <v-container>\n        <v-row>\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n          </v-col> \n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n          <v-text-field\n              v-model=\"empid\"\n              \n              :counter=\"10\"\n              label=\"empid\"\n              required\n            ></v-text-field>\n          </v-col> \n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n          <v-text-field\n              v-model=\"name\"\n              :counter=\"10\"\n              label=\"name\"\n              required\n            ></v-text-field>\n          </v-col> \n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n          <v-text-field\n              v-model=\"dept\"\n              \n              :counter=\"10\"\n              label=\"dept\"\n              required\n            ></v-text-field>\n          </v-col> \n          <v-btn\n      \n      color=\"success\"\n      class=\"mr-4\"\n      @click=\"sendData\"\n      v-if=\"!rand\"\n      \n    >\n      submit\n    </v-btn>\n    <v-btn\n      :disabled=\"!valid\"\n      color=\"success\"\n      class=\"mr-4\"\n      @click=\"editing\"\n      v-if=\"rand\"\n      \n    >\n      edit\n    </v-btn>\n      </v-row>\n      </v-container>\n\n    </v-card-text>\n  </v-dialog>\n  </v-form>\n\n<v-simple-table>\n    <template v-slot:default>\n      <thead>\n        <tr>\n          <th>\n            id\n          </th>\n          <th>\n            empid\n          </th>\n          <th>\n            name\n          </th>\n          <th>\n            dept\n          </th>\n          <th>\n            edit\n          </th>\n          <th>\n            delete\n          </th>\n       \n\n        </tr>\n      </thead>\n      <tbody class=\"text-left\">\n        <tr v-for=\"item in list\" v-bind:key=\"item.id\">\n          <td>{{item.id}}</td>\n        <td>{{item.empid}}</td>\n        <td>{{item.name}}</td>\n        <td>{{item.dept}}</td>\n        <td>\n          <v-btn\n          class=\"mx-1\"\n          fab\n          dark\n          small\n          color=\"cyan\"\n          @click=\"edit(item)\"\n          \n        >\n          <v-icon dark>\n            mdi-pencil\n          </v-icon>\n        </v-btn>\n   \n  </td>\n  <td> \n    <v-btn\n    class=\"mx-1\"\n    fab\n    dark\n    small\n    color=\"cyan\"\n    @click=\"deleting(item.id)\"\n    \n  >\n    <v-icon dark>\n      mdi-delete\n    </v-icon>\n  </v-btn>\n\n</td>\n  \n        \n        </tr>\n      </tbody>\n      </template>\n   \n</v-simple-table>\n\n</v-app>\n</template>\n<script>\nimport Vue from 'vue';\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\nVue.use(VueAxios,axios)\nexport default{\n  name:'api-integration',\n  data()\n  {\n    return {\n      empid:'',\n      name:'',\n      dept:'',\n      list:[],\n      dialog:false,\n      arr:[],\n      rand:false,\n      temp:{}\n    }\n  },\n  mounted()\n  {\n\n    Vue.axios.get('http://127.0.0.1:40193/readdept')\n    \n    .then((resp)=>\n    {\n       this.list=resp.data;\n    })\n  },\n  methods:{\n    async sendData()\n            {\n              await Vue.axios.post(`http://127.0.0.1:40193/createdept`,{\n                empid:this.empid,\n                name:this.name,\n                dept:this.dept\n                })\n                this.dialog=false\n                this.rand=false\n                this.$refs.form.reset()\n                Vue.axios.get('http://127.0.0.1:40193/readdept')\n    \n    .then((resp)=>\n    {\n       this.list=resp.data;\n    })\n                \n    },\n    async deleting(id)\n    {\n     await Vue.axios.delete(`http://127.0.0.1:40193/deletedept/${id}`)\n\n     Vue.axios.get('http://127.0.0.1:40193/readdept')\n    \n    .then((resp)=>\n    {\n       this.list=resp.data;\n    })\n  \n    },\n    // editing(id,empid,name,dept)\n    // {\n    //   this.dialog=true\n    //   this.item.empid=empid\n    //   this.item.name=name\n    //   this.item.dept=dept\n     \n    //   let values={\n    //     empid:this.item.empid,name:this.item.name,dept:this.item.dept\n    //   }\n    //   Vue.axios.put(`http://127.0.0.1:40193/updatedept/${id}`,values)\n    //   {\n    //     Vue.axios.get('http://127.0.0.1:40193/readdept')\n    \n    // .then((response)=>\n    // {\n    //    this.list=response.data;\n    // });\n    // this.item.empid=''.\n    // this.item.name='',\n    // this.item.dept=''\n    // this.$refs.form.reset()\n    //   }\n    // }\n    edit(item)\n    {\n     this.dialog=true\n     this.rand=true\n     this.temp=item\n     let id = item.id\n        let obj= this.arr.find(o => o.id == id)\n        this.empid=item.empid\n        this.name=item.name\n        this.dept = item.dept\n        \n        this.dialog = true\n        console.log(obj)\n        this.tempObj = item \n      \n        \n    },\n    editing()\n    {\n      this.rand=false\n      let data= this.arr.findIndex(tempor => tempor.id == this.temp.id)\n      this.arr[data].empid = this.empid\n      this.arr[data].name=this.name\n      this.arr[data].dept= this.dept\n      this.$refs.form.reset()\n      this.dialog=false\n     \n      this.$refs.form.reset()\n    },\n    \n }\n  \n\n}\n</script>"]},"metadata":{},"sourceType":"module"}