{"ast":null,"code":"import Vue from 'vue';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nimport searchGlobal from './searchGlobal.vue';\nimport { getInfo, postInfo, editInfo, deleteInfo } from '../components/serives/api';\nvar test;\nVue.use(VueAxios, axios);\nexport default {\n  name: 'api-integration',\n\n  data() {\n    return {\n      data: {\n        empid: '',\n        name: '',\n        dept: ''\n      },\n      numberRules: [v => !!v || 'input is required', v => !isNaN(parseFloat(v)) && v >= 0 && v <= 99999 || 'input must be number && max 5 numbers'],\n      nameRules: [v => !!v || 'input is required', v => v && v.length <= 20 || 'input must be less than 15 characters', v => /^[a-zA-z]+$/.test(v) || 'input is not valid'],\n      list: [],\n      dialog: false,\n      arr: [],\n      flag: true,\n      message: ''\n    };\n  },\n\n  mounted() {\n    getInfo().then(resp => {\n      this.list = resp.data;\n    });\n  },\n\n  methods: {\n    sendData() {\n      console.log('post');\n      postInfo(this.data);\n      this.dialog = false;\n      this.getInfo();\n      this.$refs.form.reset();\n    },\n\n    deleting(id) {\n      deleteInfo(id).then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    editItem(item) {\n      this.flag = false;\n      this.dialog = true;\n      test = item;\n      this.data = item;\n    },\n\n    async edit() {\n      this.flag = true;\n      this.dialog = false;\n      test.empid = this.data.empid;\n      test.name = this.data.name;\n      test.dept = this.data.dept;\n      this.$refs.form.reset();\n      editInfo(this.data).then(response => {\n        console.log(response);\n      });\n      console.log(test.name);\n      this.sendData();\n    },\n\n    change(message) {\n      this.message = message;\n    },\n\n    funSearch(val) {\n      this.list = val.data;\n    }\n\n  },\n  components: {\n    searchGlobal\n  }\n};","map":null,"metadata":{},"sourceType":"module"}