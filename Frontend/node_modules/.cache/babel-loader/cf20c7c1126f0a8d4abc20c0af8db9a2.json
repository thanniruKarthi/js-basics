{"ast":null,"code":"var test;\nimport Vue from 'vue';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nVue.use(VueAxios, axios);\nexport default {\n  data() {\n    return {\n      input: {\n        cusid: '',\n        name: '',\n        owner: ''\n      },\n      formDialog: false,\n      nameRules: [v => /^[a-zA-Z]+$/.test(v) || 'Name must be valid'],\n      list: [],\n      flag: true\n    };\n  },\n\n  mounted() {\n    Vue.axios.get('http://127.0.0.1:40193/read').then(resp => {\n      this.list = resp.data;\n    });\n  },\n\n  methods: {\n    async addItem() {\n      await Vue.axios.post(`http://127.0.0.1:40193/insert`, {\n        id: this.input.cusid,\n        name: this.input.name,\n        owner: this.input.owner\n      });\n      this.formDialog = false;\n      Vue.axios.get('http://127.0.0.1:40193/read').then(resp => {\n        this.list = resp.data;\n      });\n      this.$refs.form.reset();\n    },\n\n    async edit(item) {\n      this.flag = false;\n      this.formDialog = true;\n      test = item;\n      this.input.cusid = item.cusid;\n      this.input.name = item.name;\n      this.input.owner = item.name;\n    },\n\n    async editItem() {\n      this.flag = true;\n      test.cusid = this.input.cusid;\n      test.name = this.input.name;\n      test.owner = this.input.owner;\n      this.$refs.form.reset();\n      this.fromDialog = false;\n      await axios.put(`http://127.0.0.1:40193/update/${test.id}`, {\n        id: test.cusid,\n        name: test.name,\n        owner: test.owner\n      }).then(response => {\n        console.log(response);\n      });\n      console.log(test.name);\n      this.sendData();\n    },\n\n    async remove(id) {\n      await Vue.axios.delete(`http://127.0.0.1:40193/delete/${id}`);\n      Vue.axios.get('http://127.0.0.1:40193/read').then(resp => {\n        this.list = resp.data;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsDA;AACA;AACA;AACA;AACAA;AACA;EAEAC;IACA;MACAC;QACAC,SADA;QAEAC,QAFA;QAGAC;MAHA,CADA;MAMAC,iBANA;MAOAC,YACAC,kDADA,CAPA;MAUAC,QAVA;MAWAC;IAXA;EAaA,CAhBA;;EAiBAC;IACAX,6CACAY,IADA,CACAC;MACA;IACA,CAHA;EAKA,CAvBA;;EAwBAC;IACA;MACA;QACAC,oBADA;QAEAX,qBAFA;QAGAC;MAHA;MAMA;MACAL,6CACAY,IADA,CACAC;QACA;MACA,CAHA;MAIA;IAEA,CAfA;;IAgBA,iBACA;MACA;MACA;MACAG;MACA;MACA;MACA;IACA,CAxBA;;IAyBA;MACA;MAEAA;MACAA;MACAA;MACA;MACA;MACA;QACAD,cADA;QAEAX,eAFA;QAGAC;MAHA,GAMAO,IANA,CAMAK;QACAC;MACA,CARA;MASAA;MACA;IAEA,CA7CA;;IA+CA;MACA;MACAlB,6CACAY,IADA,CACAC;QACA;MACA,CAHA;IAIA;;EArDA;AAxBA","names":["Vue","data","input","cusid","name","owner","formDialog","nameRules","v","list","flag","mounted","then","resp","methods","id","test","response","console"],"sourceRoot":"src/components","sources":["customerTable.vue"],"sourcesContent":["<template>\n    <v-app>\n        <div>\n                <v-form refs=\"form\">\n                    <v-dialog width=\"600\" v-model=\"formDialog\">\n\n                        <template v-slot:activator=\"{ on,attr }\">\n                            <v-flex text-right align-right>\n                                <v-btn @click=\"openform\" elevation='5' color=\"primary\" v-bind=\"attr\" v-on=\"on\">\n                                    <v-icon>mdi-plus</v-icon>\n                                </v-btn>\n                            </v-flex>\n\n                        </template>\n                        <v-card text class=\"white\">\n                            <v-text-field v-model=\"input.cusid\" label=\"customer id\"></v-text-field>\n                            <v-text-field v-model=\"input.name\" :rules=\"nameRules\" label=\"customer Name\">\n                            </v-text-field>\n                            <v-text-field v-model=\"input.owner\" :rules=\"nameRules\" label=\"owner\"></v-text-field>\n                            <v-btn v-if=\"flag\" @click=\"addItem\" class=\"red\">\n                                submit</v-btn>\n                            <v-btn v-else @click=\"editItem\">\n                                save</v-btn>\n                        </v-card>\n                    </v-dialog>\n                </v-form>\n            </div>\n            <v-simple-table>\n                <thead>\n                    <tr>\n                        <th>id</th>\n                        <th>customerid</th>\n                        <th>name</th>\n                        <th>owner</th>\n                    </tr>\n                </thead>\n                <tr v-for=\"(item,i) in list\" :key=\"i\">\n                    <td>{{item.id}}</td>\n                    <td>{{item.cusid}}</td>\n                    <td>{{item.name}}</td>\n                    <td>{{item.owner}}</td>\n                    <td>\n                        <v-btn @click=\"edit(item)\" color=\"transparent\" fab small elevation=\"0\">\n                            <v-icon small color=\"green\">mdi-pencil</v-icon>\n                        </v-btn>\n                        <v-btn @click=\"remove(item.id)\" color=\"transparent\" fab small elevation=\"0\">\n                            <v-icon small color=\"red\">mdi-delete</v-icon>\n                        </v-btn>\n                    </td>\n                </tr>\n            </v-simple-table>\n    </v-app>\n</template>\n<script>\n    var test;\n    import Vue from 'vue';\n     import axios from 'axios';\n     import VueAxios from 'vue-axios'\nVue.use(VueAxios, axios)\n    export default{\n\n    data() {\n        return {\n            input: {\n                cusid: '',\n                name:'',\n                owner: ''\n            },\n            formDialog: false,\n            nameRules: [\n                v => /^[a-zA-Z]+$/.test(v) || 'Name must be valid'\n            ],\n            list:[],\n            flag:true\n        }\n    },\n    mounted() {\n        Vue.axios.get('http://127.0.0.1:40193/read')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n  \n    },\n    methods:{\n        async addItem() {\n      await Vue.axios.post(`http://127.0.0.1:40193/insert`, {\n        id: this.input.cusid,\n        name: this.input.name,\n        owner: this.input.owner,\n        \n      })\n      this.formDialog = false\n      Vue.axios.get('http://127.0.0.1:40193/read')\n      .then((resp) => {\n        this.list = resp.data;\n      })\n      this.$refs.form.reset()\n\n    },\n    async edit(item)\n    {\n        this.flag=false\n      this.formDialog = true\n      test = item\n      this.input.cusid=item.cusid\n      this.input.name=item.name\n      this.input.owner=item.name\n    },\n    async editItem() {\n      this.flag=true\n      \n      test.cusid = this.input.cusid\n      test.name = this.input.name\n      test.owner = this.input.owner\n      this.$refs.form.reset()\n      this.fromDialog=false\n      await axios.put(`http://127.0.0.1:40193/update/${test.id}`, {\n        id: test.cusid,\n        name: test.name,\n        owner: test.owner\n      })\n\n        .then(response => {\n          console.log(response);\n        });\n      console.log(test.name)\n      this.sendData()\n      \n    },\n\n    async remove(id){\n      await Vue.axios.delete(`http://127.0.0.1:40193/delete/${id}`)\n      Vue.axios.get('http://127.0.0.1:40193/read')\n        .then((resp) => {\n          this.list = resp.data;\n        })\n    },\n    }\n    }\n</script>"]},"metadata":{},"sourceType":"module"}