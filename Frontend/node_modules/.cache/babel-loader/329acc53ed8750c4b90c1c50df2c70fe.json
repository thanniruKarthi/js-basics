{"ast":null,"code":"console.log(process.env.VUE_APP_APIURL);\nimport Vue from 'vue';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nvar test;\nexport default {\n  name: 'SubmitForm',\n  data: () => {\n    return {\n      valid: true,\n      list: [],\n      form: {\n        empid: '',\n        age: '',\n        numberRules: [v => !!v || 'Number is required', v => v && v.length <= 10 || 'Number must be less than 10 characters'],\n        value: [],\n        headers: [{\n          text: 'Id',\n          align: 'start',\n          sortable: true,\n          value: 'id'\n        }, {\n          text: 'empId',\n          value: 'empid',\n          sortable: true\n        }, {\n          text: 'Age',\n          value: 'age',\n          sortable: true\n        }],\n        desserts: []\n      }\n    };\n  },\n\n  mounted() {\n    Vue.axios.get('http://127.0.0.1:40193/readage').then(resp => {\n      this.list = resp.data;\n    });\n  },\n\n  methods: {\n    async sendData() {\n      await Vue.axios.post(`http://127.0.0.1:40193/createage`, {\n        empid: this.empid,\n        age: this.age\n      });\n      this.dialog = false;\n      Vue.axios.get('http://127.0.0.1:40193/readdept').then(resp => {\n        this.list = resp.data;\n      });\n      this.$refs.form.reset();\n    },\n\n    async deleting(id) {\n      await Vue.axios.delete(`http://127.0.0.1:40193/deletedept/${id}`);\n      Vue.axios.get('http://127.0.0.1:40193/readdept').then(resp => {\n        this.list = resp.data;\n      });\n    },\n\n    editItem(item) {\n      this.flag = false;\n      this.dialog = true;\n      test = item;\n      this.empid = item.empid;\n      this.age = item.age;\n    },\n\n    async edit() {\n      this.flag = true;\n      this.dialog = false;\n      test.empid = this.empid;\n      test.age = this.age;\n      this.$refs.form.reset();\n      await axios.put(`http://127.0.0.1:40193/updatedept/${test.id}`, {\n        empid: test.empid,\n        age: test.age\n      }).then(response => {\n        console.log(response);\n      });\n      this.sendData();\n    },\n\n    change(message) {\n      this.message = message;\n    },\n\n    funSearch(val) {\n      this.list = val.data;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA4FAA;AACA;AACA;AACA;AAEA;AACA;EAEAC,kBAFA;EAGAC;IACA;MACAC,WADA;MAEAC,QAFA;MAIAC;QACAC,SADA;QAEAC,OAFA;QAGAC,cACAC,gCADA,EAEAA,oEAFA,CAHA;QAOAC,SAPA;QAQAC,UACA;UACAC,UADA;UAEAC,cAFA;UAGAC,cAHA;UAIAJ;QAJA,CADA,EAOA;UAAAE;UAAAF;UAAAI;QAAA,CAPA,EAQA;UAAAF;UAAAF;UAAAI;QAAA,CARA,CARA;QAkBAC;MAlBA;IAJA;EAyBA,CA7BA;;EA8BAC;IAEAC,gDAEAC,IAFA,CAEAC;MACA;IACA,CAJA;EAKA,CArCA;;EAuCAC;IACA;MACA;QACAd,iBADA;QAEAC;MAFA;MAMA;MACAU,iDAEAC,IAFA,CAEAC;QACA;MACA,CAJA;MAKA;IAEA,CAhBA;;IAiBA;MACA;MAEAF,iDAEAC,IAFA,CAEAC;QACA;MACA,CAJA;IAMA,CA1BA;;IA2BAE;MACA;MACA;MACAC;MACA;MACA;IACA,CAjCA;;IAkCA;MACA;MACA;MACAA;MACAA;MACA;MACA;QACAhB,iBADA;QAEAC;MAFA,GAIAW,IAJA,CAIAK;QACAvB;MACA,CANA;MAQA;IAEA,CAlDA;;IAmDAwB,gBACA;MACA;IACA,CAtDA;;IAuDAC;MACA;IACA;;EAzDA;AAvCA","names":["console","name","data","valid","list","form","empid","age","numberRules","v","value","headers","text","align","sortable","desserts","mounted","Vue","then","resp","methods","editItem","test","response","change","funSearch"],"sourceRoot":"src/components","sources":["ageTable.vue"],"sourcesContent":["<template>\n  <v-app>\n    <searchGlobal @funSearchSender=\"funSearch($event)\"/>\n    <v-form\n    ref=\"form\"\n    v-model=\"valid\"\n      lazy-validation>\n      <v-dialog v-model=\"dialog\">\n        <template v-slot:activator=\"{on}\">\n          <v-flex text-right align-right>\n            <v-btn class=\"blue\" v-on=\"on\">\n              <v-icon dark>\n                mdi-plus\n              </v-icon>\n            </v-btn>\n          </v-flex>\n        </template>\n        <v-card>\n          <v-card-text class=\"white\">\n            <v-container>\n              <v-text-field\n      label=\"Empid\"\n      v-model=\"form.empid\"\n      :counter=\"10\"\n      placeholder=\"enter empid\"\n      :rules=\"form.numberRules\"\n      required\n      ></v-text-field>\n    <v-text-field\n      v-model=\"form.age\"\n      :rules=\"form.nameRules\"\n      label=\"age\"\n      placeholder=\"enter age\"\n      required\n    ></v-text-field>\n \n        \n        \n    <v-btn\n    :disabled=\"!valid\"\n    color=\"success\"\n    class=\"mr-4\"\n    @click=\"validate\"\n  >\n    Validate\n    </v-btn>\n  </v-container>\n    </v-card-text>\n  </v-card>\n  </v-dialog>\n  </v-form>\n<v-simple-table>\n      <template v-slot:default>\n        <thead>\n          <tr>\n            <th>id</th>\n            <th>empid</th>\n            <th>age</th>\n          </tr>\n        </thead>\n        <tbody class=\"text-left\">\n          <tr v-for=\"item in list\" v-bind:key=\"item.id\">\n            <td>{{item.id}}</td>\n            <td>{{item.empid}}</td>\n            <td>{{item.age}}</td>\n            <td>\n              <v-btn class=\"mx-1\" fab dark small color=\"cyan\" @click=\"editItem(item)\" >\n                <v-icon dark>\n                  mdi-pencil\n                </v-icon>\n              </v-btn>\n\n            </td>\n            <td>\n              <v-btn class=\"mx-1\" fab dark small color=\"cyan\" @click=\"deleting(item.id)\" >\n                <v-icon dark>\n                  mdi-delete\n                </v-icon>\n              </v-btn>\n\n            </td>\n\n\n          </tr>\n        </tbody>\n      </template>\n\n    </v-simple-table>\n</v-app>\n</template>\n\n<script>\nconsole.log(process.env.VUE_APP_APIURL)\n  import Vue from 'vue';\nimport axios from 'axios'\n import VueAxios from 'vue-axios'\n\nvar test;\n  export default {\n    \n    name:'SubmitForm',\n    data:(()=>{\n    return{\n      valid: true,\n      list:[],\n      \n     form:{\n      empid:'',\n      age:'',\n      numberRules: [\n        v => !!v || 'Number is required',\n        v => (v && v.length <= 10) || 'Number must be less than 10 characters',\n      ],\n      value: [],\n      headers: [\n      {\n        text: 'Id',\n        align: 'start',\n        sortable: true,\n        value: 'id',\n      },\n      { text: 'empId', value: 'empid',sortable:true},\n      { text: 'Age', value: 'age',sortable:true},\n    ],\n    desserts: [],\n    }\n    }\n  }),\n  mounted() {\n\nVue.axios.get('http://127.0.0.1:40193/readage')\n\n  .then((resp) => {\n    this.list = resp.data;\n  })\n},\n\n  methods: {\n    async sendData() {\n      await Vue.axios.post(`http://127.0.0.1:40193/createage`, {\n        empid: this.empid,\n        age: this.age,\n        \n        \n      })\n      this.dialog = false\n      Vue.axios.get('http://127.0.0.1:40193/readdept')\n\n        .then((resp) => {\n          this.list = resp.data;\n        });\n        this.$refs.form.reset()\n\n    },\n    async deleting(id) {\n      await Vue.axios.delete(`http://127.0.0.1:40193/deletedept/${id}`)\n\n      Vue.axios.get('http://127.0.0.1:40193/readdept')\n\n        .then((resp) => {\n          this.list = resp.data;\n        })\n\n    },\n    editItem(item) {\n      this.flag=false\n      this.dialog = true\n      test = item\n      this.empid = item.empid\n      this.age= item.age\n    },\n    async edit() {\n      this.flag=true\n      this.dialog=false\n      test.empid = this.empid\n      test.age = this.age\n      this.$refs.form.reset()\n      await axios.put(`http://127.0.0.1:40193/updatedept/${test.id}`, {\n        empid: test.empid,\n        age: test.age,\n      })\n        .then(response => {\n          console.log(response);\n        });\n      \n      this.sendData()\n      \n    },\n    change(message)\n    {\n      this.message=message\n    },\n    funSearch(val){\n      this.list = val.data\n    }\n    \n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}