{"ast":null,"code":"import Vue from 'vue';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios'; //import searchGlobal from './searchGlobal.vue';\n//import { getInfo } from '../components/serives/api';\n\nVue.use(VueAxios, axios);\nexport default {\n  name: 'api-integration',\n\n  data() {\n    return {\n      test: {},\n      form: {\n        empid: '',\n        name: '',\n        dept: ''\n      },\n      numberRules: [v => !!v || 'input is required', v => !isNaN(parseFloat(v)) && v >= 0 && v <= 99999 || 'input must be number && max 5 numbers'],\n      nameRules: [v => !!v || 'input is required', v => v && v.length <= 20 || 'input must be less than 15 characters', v => /^[a-zA-z]+$/.test(v) || 'input is not valid'],\n      list: [],\n      dialog: false,\n      arr: [],\n      flag: true,\n      message: ''\n    };\n  },\n\n  mounted() {\n    Vue.axios.get(`${process.env.VUE_APP_SERVER_URL}/readdept/`).then(res => {\n      this.list = res.data;\n    });\n  } // mounted() {\n  //   Vue.axios.get(`${process.env.VUE_APP_SERVER_URL}/readdept/`)\n  //   .then((resp) => {\n  //       this.list = resp.data;\n  //   // getInfo()\n  //   //   .then((resp) => {\n  //   //     this.list = resp;\n  //     });\n  // },\n  // methods: {\n  //   // sendData() {\n  //   //   postInfo(this.form)\n  //   //   // await Vue.axios.post(`http://127.0.0.1:40193/createdept`, {\n  //   //   //   empid: this.form.empid,\n  //   //   //   name: this.form.name,\n  //   //   //   dept: this.form.dept,\n  //   //   // })\n  //   //   this.dialog = false\n  //   //   // getInfo()\n  //   //   // Vue.axios.get('http://127.0.0.1:40193/readdept')\n  //   //   //   .then((resp) => {\n  //   //   //     this.list = resp.data;\n  //   //   //   });\n  //   //   this.$refs.form.reset()\n  //   // },\n  //   // deleting(id) {\n  //   //   deleteInfo(id)\n  //   //   getInfo()\n  //   //   // await Vue.axios.delete(`http://127.0.0.1:40193/deletedept/${id}`)\n  //   //   // Vue.axios.get('http://127.0.0.1:40193/readdept')\n  //   //   //   .then((resp) => {\n  //   //   //     this.list = resp.data;\n  //   //   //   })\n  //   // },\n  //   // editItem(item) {\n  //   //   this.flag = false\n  //   //   this.dialog = true\n  //   //   test = item\n  //   //   this.form.empid = item.empid\n  //   //   this.form.name = item.name\n  //   //   this.form.dept = item.dept\n  //   // },\n  //   // async edit() {\n  //   //   this.flag = true\n  //   //   this.dialog = false\n  //   //   test.empid = this.form.empid\n  //   //   test.name = this.form.name\n  //   //   test.dept = this.form.dept\n  //   //   this.$refs.form.reset()\n  //   //   editInfo(this.form)\n  //   //   getInfo()\n  //   //   // await axios.put(`http://127.0.0.1:40193/updatedept/${test.id}`, {\n  //   //   //   empid: test.empid,\n  //   //   //   name: test.name,\n  //   //   //   dept: test.dept\n  //   //   // })\n  //   //     .then(response => {\n  //   //       console.log(response);\n  //   //     });\n  //   //   console.log(test.name)\n  //   //   this.sendData()\n  //   // },\n  //   funSearch(val) {\n  //     this.list = val.data\n  //   }\n  // },\n  //components: { searchGlobal }\n\n\n};","map":{"version":3,"mappings":"AAoGA;AACA;AACA,iC,CACA;AACA;;AAGAA;AACA;EACAC,uBADA;;EAEAC;IACA;MACAC,QADA;MAEAC;QAAAC;QAAAJ;QAAAK;MAAA,CAFA;MAIAC,cACAC,+BADA,EAEAA,6FAFA,CAJA;MASAC,YACAD,+BADA,EAEAA,mEAFA,EAGAA,kDAHA,CATA;MAcAE,QAdA;MAeAC,aAfA;MAgBAC,OAhBA;MAiBAC,UAjBA;MAkBAC;IAlBA;EAqBA,CAxBA;;EAyBAC;IACAf,6DACAgB,IADA,CACAC;MACA;IACA,CAHA;EAIA,CA9BA,CA+BA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EAEA;EAEA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EAEA;EACA;EACA;EACA;EACA;EAEA;EAEA;EACA;EACA;EAGA;EAEA;;;AArHA","names":["Vue","name","data","test","form","empid","dept","numberRules","v","nameRules","list","dialog","arr","flag","message","mounted","then","res"],"sourceRoot":"src/components","sources":["DirectiveAge.vue"],"sourcesContent":["<template>\n  <v-app>\n    <searchGlobal @funSearchSender=\"funSearch()\" />\n    <v-form methos=\"post\" ref=\"form\" lazy-validation>\n      <v-dialog v-model=\"dialog\">\n        <template v-slot:activator=\"{on}\">\n          <v-flex text-right align-right>\n            <v-btn class=\"blue\" v-on=\"on\">\n              <v-icon dark>\n                mdi-plus\n              </v-icon>\n            </v-btn>\n          </v-flex>\n        </template>\n        <v-card>\n          <v-card-text class=\"white\">\n            <v-container>\n              <v-row>\n                <v-col md=\"4\">\n                  <v-text-field v-model=\"form.empid\" label=\"empid\" value=\"empid\" required :rules=\"numberRules\">\n                  </v-text-field>\n                </v-col>\n                <v-col md=\"4\">\n                  <v-text-field v-model=\"form.name\" label=\"name\" required :rules=\"nameRules\"></v-text-field>\n                </v-col>\n                <v-col md=\"4\">\n                  <v-text-field v-model=\"form.dept\" label=\"dept\" required :rules=\"nameRules\"></v-text-field>\n                </v-col>\n                <v-btn elevation=\"2\" class=\"blue\" @click=\"sendData\" v-if=\"flag\">submit</v-btn>\n                <v-btn elevation=\"2\" class=\"blue\" @click=\"edit\" v-else>edit</v-btn>\n              </v-row>\n            </v-container>\n\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n    </v-form>\n\n    <v-simple-table>\n      <template v-slot:default>\n        <thead>\n          <tr>\n            <th>\n              id\n            </th>\n            <th>\n              empid\n            </th>\n            <th>\n              name\n            </th>\n            <th>\n              dept\n            </th>\n            <th>\n              edit\n            </th>\n            <th>\n              delete\n            </th>\n\n\n          </tr>\n        </thead>\n        <tbody class=\"text-left\">\n          <tr v-for=\"item in list\" v-bind:key=\"item.id\">\n            <td>{{item.id}}</td>\n            <td>{{item.empid}}</td>\n            <td>{{item.name|dot-dot}}</td>\n            <td>{{item.dept}}</td>\n            <td>\n              <v-btn class=\"mx-1\" fab dark small color=\"cyan\" @click=\"editItem(item)\">\n                <v-icon dark>\n                  mdi-pencil\n                </v-icon>\n              </v-btn>\n\n            </td>\n            <td>\n              <v-btn class=\"mx-1\" fab dark small color=\"cyan\" @click=\"deleting(item.id)\">\n                <v-icon dark>\n                  mdi-delete\n                </v-icon>\n              </v-btn>\n\n            </td>\n\n\n          </tr>\n        </tbody>\n      </template>\n\n    </v-simple-table>\n    <h1>{{this.search}}</h1>\n\n  </v-app>\n</template>\n\n\n<script>\nimport Vue from 'vue';\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\n//import searchGlobal from './searchGlobal.vue';\n//import { getInfo } from '../components/serives/api';\n\n\nVue.use(VueAxios, axios)\nexport default {\n  name: 'api-integration',\n  data() {\n    return {\n      test:{},\n      form: { empid: '', name: '', dept: '' },\n\n      numberRules: [\n        v => !!v || 'input is required',\n        v => (!isNaN(parseFloat(v)) && v >= 0 && v <= 99999) || 'input must be number && max 5 numbers',\n      ],\n\n      nameRules: [\n        v => !!v || 'input is required',\n        v => (v && v.length <= 20) || 'input must be less than 15 characters',\n        v => /^[a-zA-z]+$/.test(v) || 'input is not valid'\n      ],\n      list: [],\n      dialog: false,\n      arr: [],\n      flag: true,\n      message: ''\n\n    }\n  },\n  mounted(){\n    Vue.axios.get(`${process.env.VUE_APP_SERVER_URL}/readdept/`)\n    .then((res) =>{\n      this.list = res.data\n    })\n  }\n  // mounted() {\n  //   Vue.axios.get(`${process.env.VUE_APP_SERVER_URL}/readdept/`)\n    \n  //   .then((resp) => {\n  //       this.list = resp.data;\n  //   // getInfo()\n  //   //   .then((resp) => {\n  //   //     this.list = resp;\n  //     });\n\n  // },\n  // methods: {\n  //   // sendData() {\n  //   //   postInfo(this.form)\n\n  //   //   // await Vue.axios.post(`http://127.0.0.1:40193/createdept`, {\n  //   //   //   empid: this.form.empid,\n  //   //   //   name: this.form.name,\n  //   //   //   dept: this.form.dept,\n\n  //   //   // })\n  //   //   this.dialog = false\n  //   //   // getInfo()\n  //   //   // Vue.axios.get('http://127.0.0.1:40193/readdept')\n\n  //   //   //   .then((resp) => {\n  //   //   //     this.list = resp.data;\n  //   //   //   });\n  //   //   this.$refs.form.reset()\n\n  //   // },\n  //   // deleting(id) {\n  //   //   deleteInfo(id)\n  //   //   getInfo()\n\n  //   //   // await Vue.axios.delete(`http://127.0.0.1:40193/deletedept/${id}`)\n\n  //   //   // Vue.axios.get('http://127.0.0.1:40193/readdept')\n\n  //   //   //   .then((resp) => {\n  //   //   //     this.list = resp.data;\n  //   //   //   })\n\n  //   // },\n  //   // editItem(item) {\n  //   //   this.flag = false\n  //   //   this.dialog = true\n  //   //   test = item\n  //   //   this.form.empid = item.empid\n  //   //   this.form.name = item.name\n  //   //   this.form.dept = item.dept\n\n\n  //   // },\n  //   // async edit() {\n  //   //   this.flag = true\n  //   //   this.dialog = false\n  //   //   test.empid = this.form.empid\n  //   //   test.name = this.form.name\n  //   //   test.dept = this.form.dept\n  //   //   this.$refs.form.reset()\n  //   //   editInfo(this.form)\n  //   //   getInfo()\n\n  //   //   // await axios.put(`http://127.0.0.1:40193/updatedept/${test.id}`, {\n  //   //   //   empid: test.empid,\n  //   //   //   name: test.name,\n  //   //   //   dept: test.dept\n\n  //   //   // })\n\n  //   //     .then(response => {\n  //   //       console.log(response);\n  //   //     });\n  //   //   console.log(test.name)\n  //   //   this.sendData()\n\n  //   // },\n\n  //   funSearch(val) {\n  //     this.list = val.data\n  //   }\n\n\n  // },\n\n  //components: { searchGlobal }\n\n\n}\n</script>"]},"metadata":{},"sourceType":"module"}